# NotebookLM 슬라이드 폰트 수정기

NotebookLM에서 생성된 PDF 슬라이드의 깨진 한글 폰트를 수정하고, 워터마크를 일괄 제거할 수 있는 웹 기반 편집 도구입니다.

## 📸 주요 화면

PDF를 업로드하면 좌측에 페이지 썸네일, 중앙에 편집 캔버스, 우측에 텍스트 편집 패널이 표시됩니다.

---

## ✨ 주요 기능

### 1. 지능형 폰트 크기 제안
- 영역 선택 시 OCR로 텍스트를 인식하고, **글자 수와 영역 비율을 계산**하여 최적의 폰트 크기를 자동으로 추천합니다.
- 긴 문장은 다중 행 배치를 고려하여 크기를 조정합니다.

### 2. 워터마크 일괄 제거
- 한 페이지에서 워터마크 영역을 선택한 후 **[워터마크 제거]** 버튼을 클릭하면, 모든 페이지의 같은 위치에서 배경색을 자동으로 추출하여 깔끔하게 덮어씁니다.
- 페이지별 배경 톤이 다르더라도 지능적으로 보정합니다.

### 3. 마우스 휠 폰트 크기 조절
- 편집 상태에서 캔버스 위에서 **마우스 휠**을 굴리면 폰트 크기가 1px씩 실시간으로 조절됩니다.

### 4. 리치 텍스트 편집
- **굵게(B)**, **기울임(I)**, **밑줄(U)** 스타일 지원
- 왼쪽, 중앙, 오른쪽 **텍스트 정렬**
- **배경 불투명도** 조절 (0~100%)

### 5. OCR 텍스트 인식
- Tesseract.js 5.x 기반 한국어 OCR 지원
- 인식된 텍스트의 문법/띄어쓰기 자동 보정

---

## 🛠️ 개발 과정

### Phase 1: 핵심 기능 구현
1. **프로젝트 구조 생성**: HTML/CSS/JS 기반 웹앱 스캐폴딩
2. **PDF 렌더링**: PDF.js를 활용한 고품질 캔버스 렌더링
3. **영역 선택 UI**: Canvas API를 이용한 마우스 드래그 선택 기능
4. **OCR 통합**: Tesseract.js 한국어 엔진 연동
5. **텍스트 오버레이**: pdf-lib를 활용한 PDF 수정 및 이미지 패치 삽입
6. **PDF 다운로드**: 수정된 PDF를 `원본명_modified.pdf`로 저장

### Phase 2: 사용자 경험 개선
7. **오버레이 드래그/리사이즈**: 8방향 핸들을 이용한 자유로운 크기 조절
8. **줌 슬라이더 및 화면 맞춤**: 확대/축소 컨트롤 추가
9. **실시간 미리보기**: 텍스트 입력 시 즉시 캔버스에 반영
10. **폰트 자동 선택**: 한글/영문 감지에 따른 적절한 폰트 추천

### Phase 3: 오피스 스타일 UI 개편
11. **리본 툴바 디자인**: MS Office 스타일의 그룹화된 툴바 구현
12. **밑줄(Underline) 기능**: 리치 텍스트 스타일 확장
13. **마우스 휠 조절**: 캔버스 위에서 휠로 폰트 크기 미세 조정

### Phase 4: 고급 기능 추가
14. **워터마크 일괄 제거**: 전 페이지 배경색 자동 추출 및 패치 생성
15. **지능형 폰트 제안**: 글자 수와 영역 비율을 분석하여 최적 크기 계산
16. **비개발자용 실행 스크립트**: `Run-Editor.bat` 파일 제공

### Phase 5: 배포 및 문서화
17. **GitHub 동기화**: [cre2sens/notebooklmless](https://github.com/cre2sens/notebooklmless) 저장소 푸시
18. **README.md 작성**: 개발 과정 및 사용법 문서화

---

## 📁 프로젝트 구조

```
notebook_editor/
├── index.html           # 메인 HTML (오피스 스타일 리본 툴바)
├── Run-Editor.bat       # 윈도우용 간편 실행 파일
├── README.md            # 프로젝트 문서
├── css/
│   └── styles.css       # 다크 테마 스타일시트
└── js/
    ├── app.js           # 메인 애플리케이션 로직
    ├── pdf-handler.js   # PDF 렌더링 및 배경색 추출
    ├── ocr-handler.js   # OCR 처리 (Tesseract.js)
    ├── text-corrector.js # 텍스트 후처리/보정
    ├── text-overlay.js  # 텍스트 오버레이 관리
    └── font-detector.js # 폰트 설치 확인
```

---

## 🚀 실행 방법

### 방법 1: 간편 실행 (Windows)
1. `Run-Editor.bat` 파일을 더블 클릭합니다.
2. 자동으로 로컬 서버가 시작되고 브라우저가 열립니다.

### 방법 2: 수동 실행
```bash
# 프로젝트 폴더로 이동
cd notebook_editor

# 로컬 서버 실행
npx -y http-server . -p 8080 -o
```

---

## 📖 사용 방법

1. **PDF 업로드**: 드래그앤드롭 또는 클릭하여 PDF 파일 선택
2. **영역 선택**: 수정할 텍스트 영역을 마우스로 드래그
3. **텍스트 편집**: OCR 결과 확인 후 텍스트 수정
4. **스타일 조정**: 폰트, 크기, 색상, 정렬 등 설정
5. **적용**: 
   - **[적용]**: 현재 페이지에만 반영
   - **[워터마크 제거]**: 모든 페이지의 같은 위치 일괄 삭제
6. **다운로드**: 수정 완료 후 PDF 다운로드

---

## 🔧 기술 스택

| 라이브러리 | 버전 | 용도 |
|-----------|------|-----|
| PDF.js | 3.11.174 | PDF 렌더링 및 페이지 추출 |
| pdf-lib | 1.17.1 | PDF 수정 및 이미지 삽입 |
| Tesseract.js | 5.x | OCR 텍스트 인식 |

---

## 📜 라이선스

MIT License

---

## 🙏 기여

버그 리포트, 기능 제안, PR 모두 환영합니다!
